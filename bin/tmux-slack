#!/usr/bin/env bash

set -euo pipefail

# TODO: update to allow passing in a session name via -s option argument
session_name="slack"

params="${*:-}"

# create new slack session if it doesn't exist
tmux has-session -t "$session_name" 2>/dev/null
if [[ $? -eq 1 ]]; then
  tmux new-session -d -s "$session_name"
fi

# send our given "command params" to our detached session
tmux send-keys -t "$session_name" "$params" Enter

# NOTE: we can use `tmux attach-session -t slack` to flip to the slack session

# TODO: add binding for quick view of slack status session via tmux popup
